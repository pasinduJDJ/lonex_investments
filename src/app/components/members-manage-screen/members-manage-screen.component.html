<div class="member-container container">
  <!-- Search Box -->
  <div class="row justify-content-center my-4">
    <div class="col-md-8">
      <div class="search-box input-group">
        <input type="text" class="form-control py-2" placeholder="Enter Member name, ID, or Address"
          aria-label="Member Search" [formControl]="searchControl">
      </div>
    </div>
  </div>

  <!-- Header Row -->
  <div class="row mb-3 align-items-center px-2">
    <div class="col-6">
      <h5 class="section-title">Active Members</h5>
    </div>
    <div class="col-6 text-end">
      <button class="btn add-member-btn" (click)="navigateToAddMember()">+ New Member</button>
    </div>
  </div>

  <hr class="section-divider mb-5">

  <!-- Member Cards -->
  <div class="container px-4">
    <ng-container *ngIf="members$ | async as members">
      <ng-container *ngIf="members.length > 0; else noMembers">
        <div *ngFor="let member of members" class="member-card card my-3"
          (click)="viewMember(member.register_number || 0)">
          <div class="card-body">
            <h5 class="card-title">{{ member.first_name }} {{ member.last_name }}</h5>
            <p class="card-text">
              <strong>Member ID:</strong> {{ member.register_number }} |
              <strong>Town:</strong> {{ member.town_one }} {{ member.town_two }} |
              <strong>NIC:</strong> {{ member.nic_number }}
            </p>
          </div>
        </div>
      </ng-container>
      <ng-template #noMembers>
        <div class="text-center text-muted my-5">No members found.</div>
      </ng-template>
    </ng-container>
  </div>
</div>
